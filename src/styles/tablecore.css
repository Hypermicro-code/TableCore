/* ==== [BLOCK: TableCore CSS] BEGIN ==== */
:root{
  --tc-bg:#ffffff; --tc-fg:#151515; --tc-grid:#e7e7ea; --tc-accent:#2e62ff;
  --tc-sel:#eef2f7;          /* før: #bcd3ff  → lys grå “skygge” */
  --tc-sel-border:#9aa4b2;   /* før: #2e62ff  → diskret grå kant for sel-edge */
  --tc-edit-bg:#fffef7;
}
.tc-root{font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial; color:var(--tc-fg);}
.tc-wrap{border:1px solid var(--tc-grid); border-radius:0; overflow:hidden; background:var(--tc-bg);}
.tc-header{display:grid; border-bottom:1px solid var(--tc-grid); user-select:none;}
.tc-row{display:grid; border-bottom:1px solid var(--tc-grid);}
.tc-cell{padding:6px 8px; overflow:hidden; white-space:nowrap; text-overflow:ellipsis; cursor:default;}
.tc-idx{color:#7a7a85; text-align:right; padding-right:6px;}
.tc-title{display:flex; align-items:center; gap:6px;}
.tc-indent{display:inline-block; width: calc(var(--lvl)*14px);}
.tc-summary{background:#fafafa; font-weight:600; border-bottom:1px solid var(--tc-grid);}

/* Celle i redigering: samme utseende som visning, kun svart kant */
.tc-cell.editing{
  background: transparent !important;
  outline: 1px solid #000;   /* 1px – samme visuelle tykkelse som grid */
  outline-offset: 0;         /* ikke “skyv” inn/ut – ser helt flatt ut */
  z-index: 2;
}
/* Hvis cella både er selected og editing, behold samme (ingen blå bakgrunn) */
.tc-cell.editing.sel{
  background: transparent !important;
}

.tc-cell input,
.tc-cell textarea{
  width: 100%;
  padding: 0;
  margin: 0;
  border: none;
  outline: none;
  background: transparent;
  font: inherit;
  color: inherit;
  font-weight: inherit;
  font-style: inherit;
  text-transform: inherit;
  line-height: inherit;
  letter-spacing: inherit;
  -webkit-appearance: none;
  appearance: none;
}

/* Lås textarea: ikke resizable, ikke øk rad-høyde */
.tc-cell textarea{
  resize: none !important;    /* fjern “dra” */
  height: 22px;               /* samme høyde som cella */
  max-height: 22px;
  overflow: hidden;           /* ikke utvide cella */
}


/* Markering */
.tc-cell.sel{background:var(--tc-sel);}
.tc-cell.sel-edge{outline:2px solid var(--tc-sel-border); outline-offset:-2px;}

/* Slå av text selection i hele root KUN når vi drar mellom celler */
.tc-root.tc-noselect, .tc-root.tc-noselect * {
  user-select: none !important;
}

/* ==== [BLOCK: Parent/Child Typography] BEGIN ==== */
/* Parent-rader: fet + store bokstaver (hele raden) */
.tc-row.tc-parent .tc-cell {
  font-weight: 700;
  text-transform: uppercase;
}
/* Barn (indent > 0): kursiv (hele raden) */
.tc-row.tc-child .tc-cell {
  font-style: italic;
}
/* Kombinasjon parent+child = fet + kursiv + uppercase (automatisk av de to reglene) */
/* ==== [BLOCK: Parent/Child Typography] END ==== */

/* ==== [BLOCK: Disclosure Button] BEGIN ==== */
.tc-disc{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  width:18px; height:18px;
  margin-right:4px;
  border:none; background:transparent; padding:0;
  cursor:pointer; font-size:12px; line-height:1;
  color: inherit;
}
.tc-disc:focus{ outline:1px dashed #bbb; outline-offset:2px; }
/* ==== [BLOCK: Disclosure Button] END ==== */

/* ==== [BLOCK: DnD styling] BEGIN ==== */
.tc-header-cell {
  cursor: grab;
}
.tc-header-cell:active {
  cursor: grabbing;
}
.tc-row-handle {
  cursor: grab;
}
.tc-row-handle:active {
  cursor: grabbing;
}
/* (Valgfritt) litt diskret drop-indikasjon kan legges til senere */
/* ==== [BLOCK: DnD styling] END ==== */

/* ==== [BLOCK: Row drop hint] BEGIN ==== */
.tc-row {
  position: relative;
  overflow: visible;           /* Viktig: ikke klipp bort pseudo-linjene */
}

.tc-row.tc-drop-before::before,
.tc-row.tc-drop-after::after{
  content: "";
  position: absolute;
  left: -1px;                  /* trekk 1px ut forbi grid-kanten */
  right: -1px;
  height: 3px;                 /* litt tykkere for synlighet */
  background: #1e66ff;         /* klar blå */
  pointer-events: none;
  z-index: 999;                /* alltid over cellene */
  opacity: 0.95;
}

.tc-row.tc-drop-before::before{ top: -2px; }    /* løft over top-border */
.tc-row.tc-drop-after::after{ bottom: -2px; }   /* senk under bottom-border */
/* ==== [BLOCK: Row drop hint] END ==== */
/* ==== [BLOCK: Vertical grid lines] BEGIN ==== */
/* Loddrette linjer mellom alle kolonner (inkl. etter #-kolonnen) */
.tc-header > .tc-cell + .tc-cell,
.tc-row    > .tc-cell + .tc-cell,
.tc-summary> .tc-cell + .tc-cell {
  border-left: 1px solid var(--tc-grid);
}

/* Sørg for at seleksjonsramme/markering tegnes over vertikale linjer */
.tc-cell.sel { position: relative; z-index: 1; }
/* ==== [BLOCK: Vertical grid lines] END ==== */
/* ==== [BLOCK: UI sizing from app] BEGIN ==== */
/* Hvis appen setter --tc-font-size og/eller --tc-row-h via props.ui brukes de her */
.tc-root { --tc-font-size: 14px; --tc-row-h: 28px; }
.tc-cell { font-size: var(--tc-font-size); min-height: var(--tc-row-h); }
/* ==== [BLOCK: UI sizing from app] END ==== */

/* ==== [BLOCK: Column resize handle] BEGIN ==== */
.tc-header-cell { position: relative; }
.tc-header-label { pointer-events: none; } /* så drag ikke forstyrrer resize */

/* selve “grepet” helt til høyre i headercellen */
.tc-col-resizer{
  position:absolute;
  top:0; right:-3px; width:6px; height:100%;
  cursor: col-resize;
}
/* valgfritt: en tynn visuell strek ved hover for å gjøre det tydelig */
.tc-col-resizer:hover::after{
  content:"";
  position:absolute; top:0; bottom:0; left:2px; width:1px;
  background: var(--tc-grid);
}
/* ==== [BLOCK: Column resize handle] END ==== */


/* ==== [BLOCK: TableCore CSS] END ==== */
